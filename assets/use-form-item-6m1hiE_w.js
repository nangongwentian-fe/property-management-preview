import{by as m,at as y,s as i,J as p,k as h,r as l,e as j,t as w,w as E,y as F,az as L}from"./index-BdjtMHrF.js";import{f as b,b as K}from"./use-form-common-props-DT13qujo.js";const v={prefix:Math.floor(Math.random()*1e4),current:0},N=Symbol("elIdInjection"),R=()=>p()?i(N,v):v,_=u=>{const e=R(),t=m();return y(()=>h(u)||`${t.value}-id-${e.prefix}-${e.current++}`)},J=()=>{const u=i(b,void 0),e=i(K,void 0);return{form:u,formItem:e}},U=(u,{formItemContext:e,disableIdGeneration:t,disableIdManagement:r})=>{t||(t=l(!1)),r||(r=l(!1));const c=p(),f=()=>{let n=c?.parent;for(;n;){if(n.type.name==="ElFormItem")return!1;if(n.type.name==="ElLabelWrap")return!0;n=n.parent}return!1},a=l();let o;const I=j(()=>{var n;return!!(!(u.label||u.ariaLabel)&&e&&e.inputIds&&((n=e.inputIds)==null?void 0:n.length)<=1)});return w(()=>{o=E([F(u,"id"),t],([n,d])=>{const s=n??(d?void 0:_().value);s!==a.value&&(e?.removeInputId&&!f()&&(a.value&&e.removeInputId(a.value),!r?.value&&!d&&s&&e.addInputId(s)),a.value=s)},{immediate:!0})}),L(()=>{o&&o(),e?.removeInputId&&a.value&&e.removeInputId(a.value)}),{isLabeledByFormItem:I,inputId:a}};export{J as a,U as b,R as c,_ as u};
