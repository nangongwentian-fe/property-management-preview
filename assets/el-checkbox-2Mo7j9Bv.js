import{f as J,i as Z,a0 as G,ac as Y,s as I,e as b,O as $,J as ee,w as ae,A as le,r as w,V as B,Z as P,W as ye,b0 as Q,ag as te,a as S,am as ne,u as M,h as O,o as y,l as oe,K as N,g as E,F as U,p as V,k as u,R as se,H as R,ae as ue,L as ie,b1 as re,j,M as ce,_ as de,$ as be,m as A,n as Ve,b as Se,d as z,x as Le,af as Be,a8 as Ee,q as Ie,N as ve}from"./index-BdjtMHrF.js";import{c as me,d as fe,p as Ne}from"./index-yXbxZAS6.js";import{U as F,C as T}from"./event-BB_Ol6Sd.js";import{_ as K}from"./index-DDjnhEWM.js";import{a as Fe,u as X}from"./use-form-common-props-DT13qujo.js";import{a as q,b as he}from"./use-form-item-6m1hiE_w.js";import{u as D}from"./index-DNuy2L3Q.js";import{o as ze}from"./omit-CpPgqC0D.js";const pe={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:Y,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...me(["ariaControls"])},ke={[F]:e=>J(e)||Z(e)||G(e),change:e=>J(e)||Z(e)||G(e)},L=Symbol("checkboxGroupContextKey"),De=({model:e,isChecked:l})=>{const i=I(L,void 0),t=b(()=>{var r,m;const n=(r=i?.max)==null?void 0:r.value,f=(m=i?.min)==null?void 0:m.value;return!$(n)&&e.value.length>=n&&!l.value||!$(f)&&e.value.length<=f&&l.value});return{isDisabled:Fe(b(()=>i?.disabled.value||t.value)),isLimitDisabled:t}},Ge=(e,{model:l,isLimitExceeded:i,hasOwnLabel:t,isDisabled:v,isLabeledByFormItem:r})=>{const m=I(L,void 0),{formItem:n}=q(),{emit:f}=ee();function p(c){var a,h,k,d;return[!0,e.trueValue,e.trueLabel].includes(c)?(h=(a=e.trueValue)!=null?a:e.trueLabel)!=null?h:!0:(d=(k=e.falseValue)!=null?k:e.falseLabel)!=null?d:!1}function s(c,a){f(T,p(c),a)}function g(c){if(i.value)return;const a=c.target;f(T,p(a.checked),c)}async function o(c){i.value||!t.value&&!v.value&&r.value&&(c.composedPath().some(k=>k.tagName==="LABEL")||(l.value=p([!1,e.falseValue,e.falseLabel].includes(l.value)),await le(),s(l.value,c)))}const x=b(()=>m?.validateEvent||e.validateEvent);return ae(()=>e.modelValue,()=>{x.value&&n?.validate("change").catch(c=>fe())}),{handleChange:g,onClickRoot:o}},$e=e=>{const l=w(!1),{emit:i}=ee(),t=I(L,void 0),v=b(()=>$(t)===!1),r=w(!1),m=b({get(){var n,f;return v.value?(n=t?.modelValue)==null?void 0:n.value:(f=e.modelValue)!=null?f:l.value},set(n){var f,p;v.value&&B(n)?(r.value=((f=t?.max)==null?void 0:f.value)!==void 0&&n.length>t?.max.value&&n.length>m.value.length,r.value===!1&&((p=t?.changeEvent)==null||p.call(t,n))):(i(F,n),l.value=n)}});return{model:m,isGroup:v,isLimitExceeded:r}},we=(e,l,{model:i})=>{const t=I(L,void 0),v=w(!1),r=b(()=>P(e.value)?e.label:e.value),m=b(()=>{const s=i.value;return G(s)?s:B(s)?ye(r.value)?s.map(Q).some(g=>te(g,r.value)):s.map(Q).includes(r.value):s!=null?s===e.trueValue||s===e.trueLabel:!!s}),n=X(b(()=>{var s;return(s=t?.size)==null?void 0:s.value}),{prop:!0}),f=X(b(()=>{var s;return(s=t?.size)==null?void 0:s.value})),p=b(()=>!!l.default||!P(r.value));return{checkboxButtonSize:n,isChecked:m,isFocused:v,checkboxSize:f,hasOwnLabel:p,actualValue:r}},ge=(e,l)=>{const{formItem:i}=q(),{model:t,isGroup:v,isLimitExceeded:r}=$e(e),{isFocused:m,isChecked:n,checkboxButtonSize:f,checkboxSize:p,hasOwnLabel:s,actualValue:g}=we(e,l,{model:t}),{isDisabled:o}=De({model:t,isChecked:n}),{inputId:x,isLabeledByFormItem:c}=he(e,{formItemContext:i,disableIdGeneration:s,disableIdManagement:v}),{handleChange:a,onClickRoot:h}=Ge(e,{model:t,isLimitExceeded:r,hasOwnLabel:s,isDisabled:o,isLabeledByFormItem:c});return(()=>{function d(){var C,_;B(t.value)&&!t.value.includes(g.value)?t.value.push(g.value):t.value=(_=(C=e.trueValue)!=null?C:e.trueLabel)!=null?_:!0}e.checked&&d()})(),D({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},b(()=>v.value&&P(e.value))),D({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},b(()=>!!e.trueLabel)),D({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},b(()=>!!e.falseLabel)),{inputId:x,isLabeledByFormItem:c,isChecked:n,isDisabled:o,isFocused:m,checkboxButtonSize:f,checkboxSize:p,hasOwnLabel:s,model:t,actualValue:g,handleChange:a,onClickRoot:h}},Pe=S({name:"ElCheckbox"}),Oe=S({...Pe,props:pe,emits:ke,setup(e){const l=e,i=ne(),{inputId:t,isLabeledByFormItem:v,isChecked:r,isDisabled:m,isFocused:n,checkboxSize:f,hasOwnLabel:p,model:s,actualValue:g,handleChange:o,onClickRoot:x}=ge(l,i),c=b(()=>{var d,C,_,W;return l.trueValue||l.falseValue||l.trueLabel||l.falseLabel?{"true-value":(C=(d=l.trueValue)!=null?d:l.trueLabel)!=null?C:!0,"false-value":(W=(_=l.falseValue)!=null?_:l.falseLabel)!=null?W:!1}:{value:g.value}}),a=M("checkbox"),h=b(()=>[a.b(),a.m(f.value),a.is("disabled",m.value),a.is("bordered",l.border),a.is("checked",r.value)]),k=b(()=>[a.e("input"),a.is("disabled",m.value),a.is("checked",r.value),a.is("indeterminate",l.indeterminate),a.is("focus",n.value)]);return(d,C)=>(y(),O(A(!u(p)&&u(v)?"span":"label"),{class:V(u(h)),"aria-controls":d.indeterminate?d.ariaControls:null,onClick:u(x)},{default:oe(()=>[N("span",{class:V(u(k))},[se(N("input",R({id:u(t),"onUpdate:modelValue":_=>ue(s)?s.value=_:null,class:u(a).e("original"),type:"checkbox",indeterminate:d.indeterminate,name:d.name,tabindex:d.tabindex,disabled:u(m)},u(c),{onChange:u(o),onFocus:_=>n.value=!0,onBlur:_=>n.value=!1,onClick:ie(()=>{},["stop"])}),null,16,["id","onUpdate:modelValue","indeterminate","name","tabindex","disabled","onChange","onFocus","onBlur","onClick"]),[[re,u(s)]]),N("span",{class:V(u(a).e("inner"))},null,2)],2),u(p)?(y(),E("span",{key:0,class:V(u(a).e("label"))},[j(d.$slots,"default"),d.$slots.default?U("v-if",!0):(y(),E(ce,{key:0},[de(be(d.label),1)],64))],2)):U("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}});var xe=K(Oe,[["__file","checkbox.vue"]]);const Ue=S({name:"ElCheckboxButton"}),Ae=S({...Ue,props:pe,emits:ke,setup(e){const l=e,i=ne(),{isFocused:t,isChecked:v,isDisabled:r,checkboxButtonSize:m,model:n,actualValue:f,handleChange:p}=ge(l,i),s=b(()=>{var a,h,k,d;return l.trueValue||l.falseValue||l.trueLabel||l.falseLabel?{"true-value":(h=(a=l.trueValue)!=null?a:l.trueLabel)!=null?h:!0,"false-value":(d=(k=l.falseValue)!=null?k:l.falseLabel)!=null?d:!1}:{value:f.value}}),g=I(L,void 0),o=M("checkbox"),x=b(()=>{var a,h,k,d;const C=(h=(a=g?.fill)==null?void 0:a.value)!=null?h:"";return{backgroundColor:C,borderColor:C,color:(d=(k=g?.textColor)==null?void 0:k.value)!=null?d:"",boxShadow:C?`-1px 0 0 0 ${C}`:void 0}}),c=b(()=>[o.b("button"),o.bm("button",m.value),o.is("disabled",r.value),o.is("checked",v.value),o.is("focus",t.value)]);return(a,h)=>(y(),E("label",{class:V(u(c))},[se(N("input",R({"onUpdate:modelValue":k=>ue(n)?n.value=k:null,class:u(o).be("button","original"),type:"checkbox",name:a.name,tabindex:a.tabindex,disabled:u(r)},u(s),{onChange:u(p),onFocus:k=>t.value=!0,onBlur:k=>t.value=!1,onClick:ie(()=>{},["stop"])}),null,16,["onUpdate:modelValue","name","tabindex","disabled","onChange","onFocus","onBlur","onClick"]),[[re,u(n)]]),a.$slots.default||a.label?(y(),E("span",{key:0,class:V(u(o).be("button","inner")),style:Ve(u(v)?u(x):void 0)},[j(a.$slots,"default",{},()=>[de(be(a.label),1)])],6)):U("v-if",!0)],2))}});var H=K(Ae,[["__file","checkbox-button.vue"]]);const Te=Se({modelValue:{type:z(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:Y,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},options:{type:z(Array)},props:{type:z(Object),default:()=>Ce},type:{type:String,values:["checkbox","button"],default:"checkbox"},...me(["ariaLabel"])}),Me={[F]:e=>B(e),change:e=>B(e)},Ce={label:"label",value:"value",disabled:"disabled"},Re=S({name:"ElCheckboxGroup"}),je=S({...Re,props:Te,emits:Me,setup(e,{emit:l}){const i=e,t=M("checkbox"),{formItem:v}=q(),{inputId:r,isLabeledByFormItem:m}=he(i,{formItemContext:v}),n=async o=>{l(F,o),await le(),l(T,o)},f=b({get(){return i.modelValue},set(o){n(o)}}),p=b(()=>({...Ce,...i.props})),s=o=>{const{label:x,value:c,disabled:a}=p.value,h={label:o[x],value:o[c],disabled:o[a]};return{...ze(o,[x,c,a]),...h}},g=b(()=>i.type==="button"?H:xe);return Le(L,{...Ne(Be(i),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:f,changeEvent:n}),ae(()=>i.modelValue,(o,x)=>{i.validateEvent&&!te(o,x)&&v?.validate("change").catch(c=>fe())}),(o,x)=>{var c;return y(),O(A(o.tag),{id:u(r),class:V(u(t).b("group")),role:"group","aria-label":u(m)?void 0:o.ariaLabel||"checkbox-group","aria-labelledby":u(m)?(c=u(v))==null?void 0:c.labelId:void 0},{default:oe(()=>[j(o.$slots,"default",{},()=>[(y(!0),E(ce,null,Ee(o.options,(a,h)=>(y(),O(A(u(g)),R({key:h},s(a)),null,16))),128))])]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var _e=K(je,[["__file","checkbox-group.vue"]]);const Ye=Ie(xe,{CheckboxButton:H,CheckboxGroup:_e});ve(H);ve(_e);export{Ye as E};
