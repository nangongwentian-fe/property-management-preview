import{aN as bl,af as Ie,ay as hl,aO as mt,am as gl,aP as bt,aQ as ht,aR as z,aS as yl,aA as Sl,an as Ol,aT as gt,a2 as Cl,r as k,e as v,b as yt,v as Te,X as j,aU as El,w as Q,K as Ve,aL as ne,a as ve,S as ce,U as Fe,o as S,g as T,j as P,L as D,a0 as q,M as K,p as O,u as fe,k as Be,aB as ze,Q as pe,y as St,C as Z,H as N,n as we,x as He,J as wl,aV as Il,W as X,P as Ce,aW as ot,Y as Tl,aX as Vl,a9 as de,i as Rl,f as kl,aY as Dl,d as H,aK as Ml,z as Ot,aZ as $l,D as Y,a_ as Ll,E as x,l as B,h as F,N as re,ac as Ee,s as st,F as Pl,$ as it,a3 as ue,a$ as Bl,m as Ne,b0 as Nl,q as Wl,O as Ct}from"./index-C0t61Ka-.js";import{g as Al,E as Fl,u as rt,d as zl,C as Hl,b as Kl,f as Ul}from"./el-popper-DO__Z1Yp.js";import{s as Gl,E as ql}from"./el-scrollbar-C8_F62jz.js";import{t as ut,E as Ql}from"./el-tag-Bic15G02.js";import{E as jl}from"./index-u4xiusIs.js";import{h as Xl,i as Yl,b as ee,t as Zl,d as dt,c as Jl,e as _l}from"./index-ClwwSkak.js";import{c as J,U as le,C as Et}from"./aria-ciwMzT0e.js";import{_ as Re}from"./style-DT2gfdFn.js";import{b as wt,d as xl,e as en,V as tn,u as ln,a as nn,i as ct,j as an}from"./use-form-common-props-CPT49ZJQ.js";import{u as on,a as sn}from"./index-N25Ym1sp.js";var rn=/\s/;function un(e){for(var n=e.length;n--&&rn.test(e.charAt(n)););return n}var dn=/^\s+/;function cn(e){return e&&e.slice(0,un(e)+1).replace(dn,"")}var ft=NaN,fn=/^[-+]0x[0-9a-f]+$/i,pn=/^0b[01]+$/i,vn=/^0o[0-7]+$/i,mn=parseInt;function pt(e){if(typeof e=="number")return e;if(bl(e))return ft;if(Ie(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=Ie(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=cn(e);var a=pn.test(e);return a||vn.test(e)?mn(e.slice(2),a?2:8):fn.test(e)?ft:+e}function bn(e,n,a,i){e.length;for(var s=a+1;s--;)if(n(e[s],s,e))return s;return-1}var hn=1,gn=2;function yn(e,n,a,i){var s=a.length,m=s;if(e==null)return!m;for(e=Object(e);s--;){var l=a[s];if(l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<m;){l=a[s];var f=l[0],d=e[f],b=l[1];if(l[2]){if(d===void 0&&!(f in e))return!1}else{var y=new hl,p;if(!(p===void 0?mt(b,d,hn|gn,i,y):p))return!1}}return!0}function It(e){return e===e&&!Ie(e)}function Sn(e){for(var n=gl(e),a=n.length;a--;){var i=n[a],s=e[i];n[a]=[i,s,It(s)]}return n}function Tt(e,n){return function(a){return a==null?!1:a[e]===n&&(n!==void 0||e in Object(a))}}function On(e){var n=Sn(e);return n.length==1&&n[0][2]?Tt(n[0][0],n[0][1]):function(a){return a===e||yn(a,e,n)}}var Cn=1,En=2;function wn(e,n){return bt(e)&&It(n)?Tt(ht(e),n):function(a){var i=z(a,e);return i===void 0&&i===n?Xl(a,e):mt(n,i,Cn|En)}}function In(e){return function(n){return n?.[e]}}function Tn(e){return function(n){return yl(n,e)}}function Vn(e){return bt(e)?In(ht(e)):Tn(e)}function Rn(e){return typeof e=="function"?e:e==null?Yl:typeof e=="object"?Sl(e)?wn(e[0],e[1]):On(e):Vn(e)}var We=function(){return Ol.Date.now()},kn="Expected a function",Dn=Math.max,Mn=Math.min;function $n(e,n,a){var i,s,m,l,f,d,b=0,y=!1,p=!1,r=!0;if(typeof e!="function")throw new TypeError(kn);n=pt(n)||0,Ie(a)&&(y=!!a.leading,p="maxWait"in a,m=p?Dn(pt(a.maxWait)||0,n):m,r="trailing"in a?!!a.trailing:r);function u(C){var A=i,W=s;return i=s=void 0,b=C,l=e.apply(W,A),l}function E(C){return b=C,f=setTimeout(g,n),y?u(C):l}function V(C){var A=C-d,W=C-b,ae=n-A;return p?Mn(ae,m-W):ae}function R(C){var A=C-d,W=C-b;return d===void 0||A>=n||A<0||p&&W>=m}function g(){var C=We();if(R(C))return h(C);f=setTimeout(g,V(C))}function h(C){return f=void 0,r&&i?u(C):(i=s=void 0,l)}function w(){f!==void 0&&clearTimeout(f),b=0,i=d=s=f=void 0}function U(){return f===void 0?l:h(We())}function M(){var C=We(),A=R(C);if(i=arguments,s=this,d=C,A){if(f===void 0)return E(d);if(p)return clearTimeout(f),f=setTimeout(g,n),u(d)}return f===void 0&&(f=setTimeout(g,n)),l}return M.cancel=w,M.flush=U,M}function Ln(e,n,a){var i=e==null?0:e.length;if(!i)return-1;var s=i-1;return bn(e,Rn(n),s)}function Pn(e,n){if(!gt)return;if(!n){e.scrollTop=0;return}const a=[];let i=n.offsetParent;for(;i!==null&&e!==i&&e.contains(i);)a.push(i),i=i.offsetParent;const s=n.offsetTop+a.reduce((d,b)=>d+b.offsetTop,0),m=s+n.offsetHeight,l=e.scrollTop,f=l+e.clientHeight;s<l?e.scrollTop=s:m>f&&(e.scrollTop=m-e.clientHeight)}const Vt=11,Bn=2;function Nn(){const e=Cl(),n=k(0),a=v(()=>({minWidth:`${Math.max(n.value,Vt)}px`}));return ee(e,()=>{var s,m;n.value=(m=(s=e.value)==null?void 0:s.getBoundingClientRect().width)!=null?m:0}),{calculatorRef:e,calculatorWidth:n,inputStyle:a}}const Rt={label:"label",value:"value",disabled:"disabled",options:"options"};function Wn(e){const n=v(()=>({...Rt,...e.props}));return{aliasProps:n,getLabel:l=>z(l,n.value.label),getValue:l=>z(l,n.value.value),getDisabled:l=>z(l,n.value.disabled),getOptions:l=>z(l,n.value.options)}}const kt=Symbol("ElSelectGroup"),ke=Symbol("ElSelect"),Ae="ElOption",An=yt({value:{type:[String,Number,Boolean,Object],required:!0},label:{type:[String,Number]},created:Boolean,disabled:Boolean}),Fn=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d");function zn(e,n){const a=Te(ke);a||Zl(Ae,"usage: <el-select><el-option /></el-select/>");const i=Te(kt,{disabled:!1}),s=v(()=>y(J(a.props.modelValue),e.value)),m=v(()=>{var u;if(a.props.multiple){const E=J((u=a.props.modelValue)!=null?u:[]);return!s.value&&E.length>=a.props.multipleLimit&&a.props.multipleLimit>0}else return!1}),l=v(()=>{var u;return(u=e.label)!=null?u:j(e.value)?"":e.value}),f=v(()=>e.value||e.label||""),d=v(()=>e.disabled||n.groupDisabled||m.value),b=Ve(),y=(u=[],E)=>{if(j(e.value)){const V=a.props.valueKey;return u&&u.some(R=>El(z(R,V))===z(E,V))}else return u&&u.includes(E)},p=()=>{!e.disabled&&!i.disabled&&(a.states.hoveringIndex=a.optionsArray.indexOf(b.proxy))},r=u=>{const E=new RegExp(Fn(u),"i");n.visible=E.test(String(l.value))||e.created};return Q(()=>l.value,()=>{!e.created&&!a.props.remote&&a.setSelected()}),Q(()=>e.value,(u,E)=>{const{remote:V,valueKey:R}=a.props;if((V?u!==E:!ne(u,E))&&(a.onOptionDestroy(E,b.proxy),a.onOptionCreate(b.proxy)),!e.created&&!V){if(R&&j(u)&&j(E)&&u[R]===E[R])return;a.setSelected()}}),Q(()=>i.disabled,()=>{n.groupDisabled=i.disabled},{immediate:!0}),{select:a,currentLabel:l,currentValue:f,itemSelected:s,isDisabled:d,hoverItem:p,updateOption:r}}const Hn=ve({name:Ae,componentName:Ae,props:An,setup(e){const n=fe("select"),a=wt(),i=v(()=>[n.be("dropdown","item"),n.is("disabled",Be(f)),n.is("selected",Be(l)),n.is("hovering",Be(r))]),s=pe({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:m,itemSelected:l,isDisabled:f,select:d,hoverItem:b,updateOption:y}=zn(e,s),{visible:p,hover:r}=ze(s),u=Ve().proxy;d.onOptionCreate(u),St(()=>{const V=u.value;Z(()=>{const{selected:R}=d.states,g=R.some(h=>h.value===u.value);d.states.cachedOptions.get(V)===u&&!g&&d.states.cachedOptions.delete(V)}),d.onOptionDestroy(V,u)});function E(){f.value||d.handleOptionSelect(u)}return{ns:n,id:a,containerKls:i,currentLabel:m,itemSelected:l,isDisabled:f,select:d,visible:p,hover:r,states:s,hoverItem:b,updateOption:y,selectOptionClick:E}}});function Kn(e,n){return ce((S(),T("li",{id:e.id,class:O(e.containerKls),role:"option","aria-disabled":e.isDisabled||void 0,"aria-selected":e.itemSelected,onMousemove:e.hoverItem,onClick:K(e.selectOptionClick,["stop"])},[P(e.$slots,"default",{},()=>[D("span",null,q(e.currentLabel),1)])],42,["id","aria-disabled","aria-selected","onMousemove","onClick"])),[[Fe,e.visible]])}var Ke=Re(Hn,[["render",Kn],["__file","option.vue"]]);const Un=ve({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=Te(ke),n=fe("select"),a=v(()=>e.props.popperClass),i=v(()=>e.props.multiple),s=v(()=>e.props.fitInputWidth),m=k("");function l(){var f;const d=(f=e.selectRef)==null?void 0:f.offsetWidth;d?m.value=`${d-Bn}px`:m.value=""}return He(()=>{l(),ee(e.selectRef,l)}),{ns:n,minWidth:m,popperClass:a,isMultiple:i,isFitInputWidth:s}}});function Gn(e,n,a,i,s,m){return S(),T("div",{class:O([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:we({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[e.$slots.header?(S(),T("div",{key:0,class:O(e.ns.be("dropdown","header"))},[P(e.$slots,"header")],2)):N("v-if",!0),P(e.$slots,"default"),e.$slots.footer?(S(),T("div",{key:1,class:O(e.ns.be("dropdown","footer"))},[P(e.$slots,"footer")],2)):N("v-if",!0)],6)}var qn=Re(Un,[["render",Gn],["__file","select-dropdown.vue"]]);const Qn=(e,n)=>{const{t:a}=wl(),i=wt(),s=fe("select"),m=fe("input"),l=pe({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),f=k(),d=k(),b=k(),y=k(),p=k(),r=k(),u=k(),E=k(),V=k(),R=k(),g=k(),h=k(!1),w=k(),{form:U,formItem:M}=xl(),{inputId:C}=en(e,{formItemContext:M}),{valueOnClear:A,isEmptyValue:W}=Il(e),{isComposing:ae,handleCompositionStart:Dt,handleCompositionUpdate:Mt,handleCompositionEnd:$t}=on({afterComposition:t=>_e(t)}),oe=v(()=>e.disabled||!!U?.disabled),{wrapperRef:Ge,isFocused:De,handleBlur:Lt}=sn(p,{disabled:oe,afterFocus(){e.automaticDropdown&&!h.value&&(h.value=!0,l.menuVisibleOnFocus=!0)},beforeBlur(t){var o,c;return((o=b.value)==null?void 0:o.isFocusInsideContent(t))||((c=y.value)==null?void 0:c.isFocusInsideContent(t))},afterBlur(){var t;h.value=!1,l.menuVisibleOnFocus=!1,e.validateEvent&&((t=M?.validate)==null||t.call(M,"blur").catch(o=>dt()))}}),Me=v(()=>X(e.modelValue)?e.modelValue.length>0:!W(e.modelValue)),Pt=v(()=>{var t;return(t=U?.statusIcon)!=null?t:!1}),Bt=v(()=>e.clearable&&!oe.value&&Me.value&&(De.value||l.inputHovering)),qe=v(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),Nt=v(()=>s.is("reverse",!!(qe.value&&h.value))),$e=v(()=>M?.validateState||""),Wt=v(()=>$e.value&&tn[$e.value]),At=v(()=>e.remote?300:0),Ft=v(()=>e.remote&&!l.inputValue&&l.options.size===0),zt=v(()=>e.loading?e.loadingText||a("el.select.loading"):e.filterable&&l.inputValue&&l.options.size>0&&se.value===0?e.noMatchText||a("el.select.noMatch"):l.options.size===0?e.noDataText||a("el.select.noData"):null),se=v(()=>$.value.filter(t=>t.visible).length),$=v(()=>{const t=Array.from(l.options.values()),o=[];return l.optionValues.forEach(c=>{const I=t.findIndex(L=>L.value===c);I>-1&&o.push(t[I])}),o.length>=t.length?o:t}),Ht=v(()=>Array.from(l.cachedOptions.values())),Kt=v(()=>{const t=$.value.filter(o=>!o.created).some(o=>o.currentLabel===l.inputValue);return e.filterable&&e.allowCreate&&l.inputValue!==""&&!t}),Qe=()=>{e.filterable&&de(e.filterMethod)||e.filterable&&e.remote&&de(e.remoteMethod)||$.value.forEach(t=>{var o;(o=t.updateOption)==null||o.call(t,l.inputValue)})},je=ln(),Ut=v(()=>["small"].includes(je.value)?"small":"default"),Xe=v({get(){return h.value&&(e.loading||!Ft.value)},set(t){h.value=t}}),Gt=v(()=>{if(e.multiple&&!Ce(e.modelValue))return J(e.modelValue).length===0&&!l.inputValue;const t=X(e.modelValue)?e.modelValue[0]:e.modelValue;return e.filterable||Ce(t)?!l.inputValue:!0}),qt=v(()=>{var t;const o=(t=e.placeholder)!=null?t:a("el.select.placeholder");return e.multiple||!Me.value?o:l.selectedLabel}),Qt=v(()=>ot?null:"mouseenter");Q(()=>e.modelValue,(t,o)=>{e.multiple&&e.filterable&&!e.reserveKeyword&&(l.inputValue="",me("")),be(),!ne(t,o)&&e.validateEvent&&M?.validate("change").catch(c=>dt())},{flush:"post",deep:!0}),Q(()=>h.value,t=>{t?me(l.inputValue):(l.inputValue="",l.previousQuery=null,l.isBeforeHide=!0),n("visible-change",t)}),Q(()=>l.options.entries(),()=>{gt&&(be(),e.defaultFirstOption&&(e.filterable||e.remote)&&se.value&&Ye())},{flush:"post"}),Q([()=>l.hoveringIndex,$],([t])=>{Rl(t)&&t>-1?w.value=$.value[t]||{}:w.value={},$.value.forEach(o=>{o.hover=w.value===o})}),Tl(()=>{l.isBeforeHide||Qe()});const me=t=>{l.previousQuery===t||ae.value||(l.previousQuery=t,e.filterable&&de(e.filterMethod)?e.filterMethod(t):e.filterable&&e.remote&&de(e.remoteMethod)&&e.remoteMethod(t),e.defaultFirstOption&&(e.filterable||e.remote)&&se.value?Z(Ye):Z(jt))},Ye=()=>{const t=$.value.filter(L=>L.visible&&!L.disabled&&!L.states.groupDisabled),o=t.find(L=>L.created),c=t[0],I=$.value.map(L=>L.value);l.hoveringIndex=lt(I,o||c)},be=()=>{if(e.multiple)l.selectedLabel="";else{const o=X(e.modelValue)?e.modelValue[0]:e.modelValue,c=Le(o);l.selectedLabel=c.currentLabel,l.selected=[c];return}const t=[];Ce(e.modelValue)||J(e.modelValue).forEach(o=>{t.push(Le(o))}),l.selected=t},Le=t=>{let o;const c=Vl(t);for(let te=l.cachedOptions.size-1;te>=0;te--){const G=Ht.value[te];if(c?z(G.value,e.valueKey)===z(t,e.valueKey):G.value===t){o={index:$.value.filter(_=>!_.created).indexOf(G),value:t,currentLabel:G.currentLabel,get isDisabled(){return G.isDisabled}};break}}if(o)return o;const I=c?t.label:t??"";return{index:-1,value:t,currentLabel:I}},jt=()=>{l.hoveringIndex=$.value.findIndex(t=>l.selected.some(o=>ye(o)===ye(t)))},Xt=()=>{l.selectionWidth=Number.parseFloat(window.getComputedStyle(d.value).width)},Yt=()=>{l.collapseItemWidth=R.value.getBoundingClientRect().width},Pe=()=>{var t,o;(o=(t=b.value)==null?void 0:t.updatePopper)==null||o.call(t)},Ze=()=>{var t,o;(o=(t=y.value)==null?void 0:t.updatePopper)==null||o.call(t)},Je=()=>{l.inputValue.length>0&&!h.value&&(h.value=!0),me(l.inputValue)},_e=t=>{if(l.inputValue=t.target.value,e.remote)xe();else return Je()},xe=$n(()=>{Je()},At.value),ie=t=>{ne(e.modelValue,t)||n(Et,t)},Zt=t=>Ln(t,o=>{const c=l.cachedOptions.get(o);return c&&!c.disabled&&!c.states.groupDisabled}),Jt=t=>{const o=Al(t);if(e.multiple&&o!==Fl.delete&&t.target.value.length<=0){const c=J(e.modelValue).slice(),I=Zt(c);if(I<0)return;const L=c[I];c.splice(I,1),n(le,c),ie(c),n("remove-tag",L)}},_t=(t,o)=>{const c=l.selected.indexOf(o);if(c>-1&&!oe.value){const I=J(e.modelValue).slice();I.splice(c,1),n(le,I),ie(I),n("remove-tag",o.value)}t.stopPropagation(),ge()},et=t=>{t.stopPropagation();const o=e.multiple?[]:A.value;if(e.multiple)for(const c of l.selected)c.isDisabled&&o.push(c.value);n(le,o),ie(o),l.hoveringIndex=-1,h.value=!1,n("clear"),ge()},tt=t=>{var o;if(e.multiple){const c=J((o=e.modelValue)!=null?o:[]).slice(),I=lt(c,t);I>-1?c.splice(I,1):(e.multipleLimit<=0||c.length<e.multipleLimit)&&c.push(t.value),n(le,c),ie(c),t.created&&me(""),e.filterable&&!e.reserveKeyword&&(l.inputValue="")}else!ne(e.modelValue,t.value)&&n(le,t.value),ie(t.value),h.value=!1;ge(),!h.value&&Z(()=>{he(t)})},lt=(t,o)=>Ce(o)?-1:j(o.value)?t.findIndex(c=>ne(z(c,e.valueKey),ye(o))):t.indexOf(o.value),he=t=>{var o,c,I,L,te;const G=X(t)?t[0]:t;let Oe=null;if(G?.value){const _=$.value.filter(ml=>ml.value===G.value);_.length>0&&(Oe=_[0].$el)}if(b.value&&Oe){const _=(L=(I=(c=(o=b.value)==null?void 0:o.popperRef)==null?void 0:c.contentRef)==null?void 0:I.querySelector)==null?void 0:L.call(I,`.${s.be("dropdown","wrap")}`);_&&Pn(_,Oe)}(te=g.value)==null||te.handleScroll()},xt=t=>{l.options.set(t.value,t),l.cachedOptions.set(t.value,t)},el=(t,o)=>{l.options.get(t)===o&&l.options.delete(t)},tl=v(()=>{var t,o;return(o=(t=b.value)==null?void 0:t.popperRef)==null?void 0:o.contentRef}),ll=()=>{l.isBeforeHide=!1,Z(()=>{var t;(t=g.value)==null||t.update(),he(l.selected)})},ge=()=>{var t;(t=p.value)==null||t.focus()},nl=()=>{var t;if(h.value){h.value=!1,Z(()=>{var o;return(o=p.value)==null?void 0:o.blur()});return}(t=p.value)==null||t.blur()},al=t=>{et(t)},ol=t=>{if(h.value=!1,De.value){const o=new FocusEvent("blur",t);Z(()=>Lt(o))}},sl=()=>{l.inputValue.length>0?l.inputValue="":h.value=!1},nt=()=>{oe.value||(ot&&(l.inputHovering=!0),l.menuVisibleOnFocus?l.menuVisibleOnFocus=!1:h.value=!h.value)},il=()=>{if(!h.value)nt();else{const t=$.value[l.hoveringIndex];t&&!t.isDisabled&&tt(t)}},ye=t=>j(t.value)?z(t.value,e.valueKey):t.value,rl=v(()=>$.value.filter(t=>t.visible).every(t=>t.isDisabled)),ul=v(()=>e.multiple?e.collapseTags?l.selected.slice(0,e.maxCollapseTags):l.selected:[]),dl=v(()=>e.multiple?e.collapseTags?l.selected.slice(e.maxCollapseTags):[]:[]),at=t=>{if(!h.value){h.value=!0;return}if(!(l.options.size===0||se.value===0||ae.value)&&!rl.value){t==="next"?(l.hoveringIndex++,l.hoveringIndex===l.options.size&&(l.hoveringIndex=0)):t==="prev"&&(l.hoveringIndex--,l.hoveringIndex<0&&(l.hoveringIndex=l.options.size-1));const o=$.value[l.hoveringIndex];(o.isDisabled||!o.visible)&&at(t),Z(()=>he(w.value))}},cl=()=>{if(!d.value)return 0;const t=window.getComputedStyle(d.value);return Number.parseFloat(t.gap||"6px")},fl=v(()=>{const t=cl(),o=e.filterable?t+Vt:0;return{maxWidth:`${R.value&&e.maxCollapseTags===1?l.selectionWidth-l.collapseItemWidth-t-o:l.selectionWidth-o}px`}}),pl=v(()=>({maxWidth:`${l.selectionWidth}px`})),vl=t=>{n("popup-scroll",t)};ee(d,Xt),ee(Ge,Pe),ee(V,Ze),ee(R,Yt);let Se;return Q(()=>Xe.value,t=>{t?Se=ee(E,Pe).stop:(Se?.(),Se=void 0)}),He(()=>{be()}),{inputId:C,contentId:i,nsSelect:s,nsInput:m,states:l,isFocused:De,expanded:h,optionsArray:$,hoverOption:w,selectSize:je,filteredOptionsCount:se,updateTooltip:Pe,updateTagTooltip:Ze,debouncedOnInputChange:xe,onInput:_e,deletePrevTag:Jt,deleteTag:_t,deleteSelected:et,handleOptionSelect:tt,scrollToOption:he,hasModelValue:Me,shouldShowPlaceholder:Gt,currentPlaceholder:qt,mouseEnterEventName:Qt,needStatusIcon:Pt,showClearBtn:Bt,iconComponent:qe,iconReverse:Nt,validateState:$e,validateIcon:Wt,showNewOption:Kt,updateOptions:Qe,collapseTagSize:Ut,setSelected:be,selectDisabled:oe,emptyText:zt,handleCompositionStart:Dt,handleCompositionUpdate:Mt,handleCompositionEnd:$t,onOptionCreate:xt,onOptionDestroy:el,handleMenuEnter:ll,focus:ge,blur:nl,handleClearClick:al,handleClickOutside:ol,handleEsc:sl,toggleMenu:nt,selectOption:il,getValueKey:ye,navigateOptions:at,dropdownMenuVisible:Xe,showTagList:ul,collapseTagList:dl,popupScroll:vl,getOption:Le,tagStyle:fl,collapseTagStyle:pl,popperRef:tl,inputRef:p,tooltipRef:b,tagTooltipRef:y,prefixRef:r,suffixRef:u,selectRef:f,wrapperRef:Ge,selectionRef:d,scrollbarRef:g,menuRef:E,tagMenuRef:V,collapseItemRef:R}};var jn=ve({name:"ElOptions",setup(e,{slots:n}){const a=Te(ke);let i=[];return()=>{var s,m;const l=(s=n.default)==null?void 0:s.call(n),f=[];function d(b){X(b)&&b.forEach(y=>{var p,r,u,E;const V=(p=y?.type||{})==null?void 0:p.name;V==="ElOptionGroup"?d(!kl(y.children)&&!X(y.children)&&de((r=y.children)==null?void 0:r.default)?(u=y.children)==null?void 0:u.default():y.children):V==="ElOption"?f.push((E=y.props)==null?void 0:E.value):X(y.children)&&d(y.children)})}return l.length&&d((m=l[0])==null?void 0:m.children),ne(f,i)||(i=f,a&&(a.states.optionValues=f)),l}}});const Xn=yt({name:String,id:String,modelValue:{type:H([Array,String,Number,Boolean,Object]),default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:Ml,effect:{type:H(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperStyle:{type:H([String,Object])},popperOptions:{type:H(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:{type:H(Function)},filterMethod:{type:H(Function)},multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:rt.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:ct,default:an},fitInputWidth:Boolean,suffixIcon:{type:ct,default:nn},tagType:{...ut.type,default:"info"},tagEffect:{...ut.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:H(String),values:zl,default:"bottom-start"},fallbackPlacements:{type:H(Array),default:["bottom-start","top-start","right","left"]},tabindex:{type:[String,Number],default:0},appendTo:rt.appendTo,options:{type:H(Array)},props:{type:H(Object),default:()=>Rt},...Dl,...Jl(["ariaLabel"])});Gl.scroll;const Yn=ve({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(e){const n=fe("select"),a=k(),i=Ve(),s=k([]);Ot(kt,pe({...ze(e)}));const m=v(()=>s.value.some(b=>b.visible===!0)),l=b=>{var y;return b.type.name==="ElOption"&&!!((y=b.component)!=null&&y.proxy)},f=b=>{const y=J(b),p=[];return y.forEach(r=>{var u;$l(r)&&(l(r)?p.push(r.component.proxy):X(r.children)&&r.children.length?p.push(...f(r.children)):(u=r.component)!=null&&u.subTree&&p.push(...f(r.component.subTree)))}),p},d=()=>{s.value=f(i.subTree)};return He(()=>{d()}),_l(a,d,{attributes:!0,subtree:!0,childList:!0}),{groupRef:a,visible:m,ns:n}}});function Zn(e,n,a,i,s,m){return ce((S(),T("ul",{ref:"groupRef",class:O(e.ns.be("group","wrap"))},[D("li",{class:O(e.ns.be("group","title"))},q(e.label),3),D("li",null,[D("ul",{class:O(e.ns.b("group"))},[P(e.$slots,"default")],2)])],2)),[[Fe,e.visible]])}var Ue=Re(Yn,[["render",Zn],["__file","option-group.vue"]]);const vt="ElSelect",Jn=ve({name:vt,componentName:vt,components:{ElSelectMenu:qn,ElOption:Ke,ElOptions:jn,ElOptionGroup:Ue,ElTag:Ql,ElScrollbar:ql,ElTooltip:Kl,ElIcon:jl},directives:{ClickOutside:Hl},props:Xn,emits:[le,Et,"remove-tag","clear","visible-change","focus","blur","popup-scroll"],setup(e,{emit:n,slots:a}){const i=Ve();i.appContext.config.warnHandler=(...g)=>{!g[0]||g[0].includes('Slot "default" invoked outside of the render function')||console.warn(...g)};const s=v(()=>{const{modelValue:g,multiple:h}=e,w=h?[]:void 0;return X(g)?h?g:w:h?w:g}),m=pe({...ze(e),modelValue:s}),l=Qn(m,n),{calculatorRef:f,inputStyle:d}=Nn(),{getLabel:b,getValue:y,getOptions:p,getDisabled:r}=Wn(e),u=g=>({label:b(g),value:y(g),disabled:r(g)}),E=g=>g.reduce((h,w)=>(h.push(w),w.children&&w.children.length>0&&h.push(...E(w.children)),h),[]),V=g=>{Ul(g||[]).forEach(w=>{var U;if(j(w)&&(w.type.name==="ElOption"||w.type.name==="ElTree")){const M=w.type.name;if(M==="ElTree"){const C=((U=w.props)==null?void 0:U.data)||[];E(C).forEach(W=>{W.currentLabel=W.label||(j(W.value)?"":W.value),l.onOptionCreate(W)})}else if(M==="ElOption"){const C={...w.props};C.currentLabel=C.label||(j(C.value)?"":C.value),l.onOptionCreate(C)}}})};Q(()=>{var g;return[(g=a.default)==null?void 0:g.call(a),s.value]},()=>{var g;e.persistent||V((g=a.default)==null?void 0:g.call(a))},{immediate:!0}),Ot(ke,pe({props:m,states:l.states,selectRef:l.selectRef,optionsArray:l.optionsArray,setSelected:l.setSelected,handleOptionSelect:l.handleOptionSelect,onOptionCreate:l.onOptionCreate,onOptionDestroy:l.onOptionDestroy}));const R=v(()=>e.multiple?l.states.selected.map(g=>g.currentLabel):l.states.selectedLabel);return St(()=>{i.appContext.config.warnHandler=void 0}),{...l,modelValue:s,selectedLabel:R,calculatorRef:f,inputStyle:d,getLabel:b,getValue:y,getOptions:p,getDisabled:r,getOptionProps:u}}});function _n(e,n){const a=Y("el-tag"),i=Y("el-tooltip"),s=Y("el-icon"),m=Y("el-option"),l=Y("el-option-group"),f=Y("el-options"),d=Y("el-scrollbar"),b=Y("el-select-menu"),y=Ll("click-outside");return ce((S(),T("div",{ref:"selectRef",class:O([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),[Nl(e.mouseEnterEventName)]:p=>e.states.inputHovering=!0,onMouseleave:p=>e.states.inputHovering=!1},[x(i,{ref:"tooltipRef",visible:e.dropdownMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-style":e.popperStyle,"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:p=>e.states.isBeforeHide=!1},{default:B(()=>{var p;return[D("div",{ref:"wrapperRef",class:O([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:K(e.toggleMenu,["prevent"])},[e.$slots.prefix?(S(),T("div",{key:0,ref:"prefixRef",class:O(e.nsSelect.e("prefix"))},[P(e.$slots,"prefix")],2)):N("v-if",!0),D("div",{ref:"selectionRef",class:O([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.states.selected.length)])},[e.multiple?P(e.$slots,"tag",{key:0,data:e.states.selected,deleteTag:e.deleteTag,selectDisabled:e.selectDisabled},()=>[(S(!0),T(re,null,Ee(e.showTagList,r=>(S(),T("div",{key:e.getValueKey(r),class:O(e.nsSelect.e("selected-item"))},[x(a,{closable:!e.selectDisabled&&!r.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:we(e.tagStyle),onClose:u=>e.deleteTag(u,r)},{default:B(()=>[D("span",{class:O(e.nsSelect.e("tags-text"))},[P(e.$slots,"label",{index:r.index,label:r.currentLabel,value:r.value},()=>[it(q(r.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.states.selected.length>e.maxCollapseTags?(S(),F(i,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom","popper-class":e.popperClass,"popper-style":e.popperStyle,teleported:e.teleported},{default:B(()=>[D("div",{ref:"collapseItemRef",class:O(e.nsSelect.e("selected-item"))},[x(a,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:we(e.collapseTagStyle)},{default:B(()=>[D("span",{class:O(e.nsSelect.e("tags-text"))}," + "+q(e.states.selected.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:B(()=>[D("div",{ref:"tagMenuRef",class:O(e.nsSelect.e("selection"))},[(S(!0),T(re,null,Ee(e.collapseTagList,r=>(S(),T("div",{key:e.getValueKey(r),class:O(e.nsSelect.e("selected-item"))},[x(a,{class:"in-tooltip",closable:!e.selectDisabled&&!r.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:u=>e.deleteTag(u,r)},{default:B(()=>[D("span",{class:O(e.nsSelect.e("tags-text"))},[P(e.$slots,"label",{index:r.index,label:r.currentLabel,value:r.value},()=>[it(q(r.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","popper-class","popper-style","teleported"])):N("v-if",!0)]):N("v-if",!0),D("div",{class:O([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable)])},[ce(D("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":r=>e.states.inputValue=r,type:"text",name:e.name,class:O([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:we(e.inputStyle),tabindex:e.tabindex,role:"combobox",readonly:!e.filterable,spellcheck:"false","aria-activedescendant":((p=e.hoverOption)==null?void 0:p.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropdownMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:[ue(K(r=>e.navigateOptions("next"),["stop","prevent"]),["down"]),ue(K(r=>e.navigateOptions("prev"),["stop","prevent"]),["up"]),ue(K(e.handleEsc,["stop","prevent"]),["esc"]),ue(K(e.selectOption,["stop","prevent"]),["enter"]),ue(K(e.deletePrevTag,["stop"]),["delete"])],onCompositionstart:e.handleCompositionStart,onCompositionupdate:e.handleCompositionUpdate,onCompositionend:e.handleCompositionEnd,onInput:e.onInput,onClick:K(e.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[Bl,e.states.inputValue]]),e.filterable?(S(),T("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:O(e.nsSelect.e("input-calculator")),textContent:q(e.states.inputValue)},null,10,["textContent"])):N("v-if",!0)],2),e.shouldShowPlaceholder?(S(),T("div",{key:1,class:O([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?P(e.$slots,"label",{key:0,index:e.getOption(e.modelValue).index,label:e.currentPlaceholder,value:e.modelValue},()=>[D("span",null,q(e.currentPlaceholder),1)]):(S(),T("span",{key:1},q(e.currentPlaceholder),1))],2)):N("v-if",!0)],2),D("div",{ref:"suffixRef",class:O(e.nsSelect.e("suffix"))},[e.iconComponent&&!e.showClearBtn?(S(),F(s,{key:0,class:O([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:B(()=>[(S(),F(Ne(e.iconComponent)))]),_:1},8,["class"])):N("v-if",!0),e.showClearBtn&&e.clearIcon?(S(),F(s,{key:1,class:O([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.nsSelect.e("clear")]),onClick:e.handleClearClick},{default:B(()=>[(S(),F(Ne(e.clearIcon)))]),_:1},8,["class","onClick"])):N("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(S(),F(s,{key:2,class:O([e.nsInput.e("icon"),e.nsInput.e("validateIcon"),e.nsInput.is("loading",e.validateState==="validating")])},{default:B(()=>[(S(),F(Ne(e.validateIcon)))]),_:1},8,["class"])):N("v-if",!0)],2)],10,["onClick"])]}),content:B(()=>[x(b,{ref:"menuRef"},{default:B(()=>[e.$slots.header?(S(),T("div",{key:0,class:O(e.nsSelect.be("dropdown","header")),onClick:K(()=>{},["stop"])},[P(e.$slots,"header")],10,["onClick"])):N("v-if",!0),ce(x(d,{id:e.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:O([e.nsSelect.is("empty",e.filteredOptionsCount===0)]),role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical",onScroll:e.popupScroll},{default:B(()=>[e.showNewOption?(S(),F(m,{key:0,value:e.states.inputValue,created:!0},null,8,["value"])):N("v-if",!0),x(f,null,{default:B(()=>[P(e.$slots,"default",{},()=>[(S(!0),T(re,null,Ee(e.options,(p,r)=>{var u;return S(),T(re,{key:r},[(u=e.getOptions(p))!=null&&u.length?(S(),F(l,{key:0,label:e.getLabel(p),disabled:e.getDisabled(p)},{default:B(()=>[(S(!0),T(re,null,Ee(e.getOptions(p),E=>(S(),F(m,st({key:e.getValue(E)},e.getOptionProps(E)),null,16))),128))]),_:2},1032,["label","disabled"])):(S(),F(m,Pl(st({key:1},e.getOptionProps(p))),null,16))],64)}),128))])]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label","onScroll"]),[[Fe,e.states.options.size>0&&!e.loading]]),e.$slots.loading&&e.loading?(S(),T("div",{key:1,class:O(e.nsSelect.be("dropdown","loading"))},[P(e.$slots,"loading")],2)):e.loading||e.filteredOptionsCount===0?(S(),T("div",{key:2,class:O(e.nsSelect.be("dropdown","empty"))},[P(e.$slots,"empty",{},()=>[D("span",null,q(e.emptyText),1)])],2)):N("v-if",!0),e.$slots.footer?(S(),T("div",{key:3,class:O(e.nsSelect.be("dropdown","footer")),onClick:K(()=>{},["stop"])},[P(e.$slots,"footer")],10,["onClick"])):N("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-style","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],16,["onMouseleave"])),[[y,e.handleClickOutside,e.popperRef]])}var xn=Re(Jn,[["render",_n],["__file","select.vue"]]);const da=Wl(xn,{Option:Ke,OptionGroup:Ue}),ca=Ct(Ke);Ct(Ue);export{da as E,ca as a};
