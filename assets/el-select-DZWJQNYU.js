import{aN as ml,bl as pt,aB as vt,aF as bl,bm as mt,b4 as bt,aW as z,b2 as hl,aK as gl,b9 as yl,aX as ht,a1 as Sl,r as k,e as v,b as gt,s as Te,W as j,a$ as Ol,w as Q,J as Ie,ag as ne,a as ve,R as ce,S as Ae,o as S,g as I,j as P,K as D,$ as q,L as H,p as O,u as fe,k as Pe,af as Fe,P as pe,v as yt,A as Y,F as N,n as Ee,t as ze,I as Cl,aU as wl,V as X,O as Ce,bn as at,X as El,bo as Tl,ak as de,i as Il,f as Vl,aT as Rl,d as K,ac as kl,x as St,ah as Dl,B as J,aY as Ml,C as x,l as B,h as F,M as re,a9 as we,H as ot,D as Ll,_ as st,a2 as ue,bp as $l,m as Be,bq as Pl,q as Bl,N as Ot}from"./index-BK9wFdw6.js";import{u as it,b as Nl,C as Wl,E as Al}from"./el-popper-BJQxE22g.js";import{s as Fl,E as zl}from"./el-scrollbar-fsKh6S48.js";import{t as rt,E as Kl}from"./el-tag-D0lUbKZ2.js";import{_ as Ve,E as Hl}from"./index-iJD-lP_o.js";import{t as ut,e as Ul,s as Re,a as Ct}from"./strings-cm5HJ7Nt.js";import{n as Gl,i as ql,b as ee,t as Ql,d as dt,c as jl,q as Xl}from"./index-CcLoIHGQ.js";import{c as Z}from"./castArray-ajMjByh8.js";import{u as wt,a as Jl,b as Yl}from"./use-form-item-zD6z8iQo.js";import{a as Zl,u as _l}from"./index-BKYt7hVz.js";import{V as xl,i as ct}from"./icon-CHEuIXX6.js";import{u as en}from"./use-form-common-props-B1CiGeGK.js";import{g as tn,E as ln}from"./event-73T6HqCH.js";import{U as le,C as Et}from"./event-BB_Ol6Sd.js";import{a as nn,i as an}from"./index-CeflOw8W.js";import{f as on}from"./vnode-DCQA66pW.js";function sn(e,n,o,i){e.length;for(var s=o+1;s--;)if(n(e[s],s,e))return s;return-1}var rn=1,un=2;function dn(e,n,o,i){var s=o.length,m=s;if(e==null)return!m;for(e=Object(e);s--;){var l=o[s];if(l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<m;){l=o[s];var f=l[0],d=e[f],b=l[1];if(l[2]){if(d===void 0&&!(f in e))return!1}else{var y=new ml,p;if(!(p===void 0?pt(b,d,rn|un,i,y):p))return!1}}return!0}function Tt(e){return e===e&&!vt(e)}function cn(e){for(var n=bl(e),o=n.length;o--;){var i=n[o],s=e[i];n[o]=[i,s,Tt(s)]}return n}function It(e,n){return function(o){return o==null?!1:o[e]===n&&(n!==void 0||e in Object(o))}}function fn(e){var n=cn(e);return n.length==1&&n[0][2]?It(n[0][0],n[0][1]):function(o){return o===e||dn(o,e,n)}}var pn=1,vn=2;function mn(e,n){return mt(e)&&Tt(n)?It(bt(e),n):function(o){var i=z(o,e);return i===void 0&&i===n?Gl(o,e):pt(n,i,pn|vn)}}function bn(e){return function(n){return n?.[e]}}function hn(e){return function(n){return hl(n,e)}}function gn(e){return mt(e)?bn(bt(e)):hn(e)}function yn(e){return typeof e=="function"?e:e==null?ql:typeof e=="object"?gl(e)?mn(e[0],e[1]):fn(e):gn(e)}var Ne=function(){return yl.Date.now()},Sn="Expected a function",On=Math.max,Cn=Math.min;function wn(e,n,o){var i,s,m,l,f,d,b=0,y=!1,p=!1,r=!0;if(typeof e!="function")throw new TypeError(Sn);n=ut(n)||0,vt(o)&&(y=!!o.leading,p="maxWait"in o,m=p?On(ut(o.maxWait)||0,n):m,r="trailing"in o?!!o.trailing:r);function u(C){var A=i,W=s;return i=s=void 0,b=C,l=e.apply(W,A),l}function w(C){return b=C,f=setTimeout(g,n),y?u(C):l}function V(C){var A=C-d,W=C-b,ae=n-A;return p?Cn(ae,m-W):ae}function R(C){var A=C-d,W=C-b;return d===void 0||A>=n||A<0||p&&W>=m}function g(){var C=Ne();if(R(C))return h(C);f=setTimeout(g,V(C))}function h(C){return f=void 0,r&&i?u(C):(i=s=void 0,l)}function E(){f!==void 0&&clearTimeout(f),b=0,i=d=s=f=void 0}function U(){return f===void 0?l:h(Ne())}function M(){var C=Ne(),A=R(C);if(i=arguments,s=this,d=C,A){if(f===void 0)return w(d);if(p)return clearTimeout(f),f=setTimeout(g,n),u(d)}return f===void 0&&(f=setTimeout(g,n)),l}return M.cancel=E,M.flush=U,M}function En(e,n,o){var i=e==null?0:e.length;if(!i)return-1;var s=i-1;return sn(e,yn(n),s)}function Tn(e,n){if(!ht)return;if(!n){e.scrollTop=0;return}const o=[];let i=n.offsetParent;for(;i!==null&&e!==i&&e.contains(i);)o.push(i),i=i.offsetParent;const s=n.offsetTop+o.reduce((d,b)=>d+b.offsetTop,0),m=s+n.offsetHeight,l=e.scrollTop,f=l+e.clientHeight;s<l?e.scrollTop=s:m>f&&(e.scrollTop=m-e.clientHeight)}const Vt=11,In=2;function Vn(){const e=Sl(),n=k(0),o=v(()=>({minWidth:`${Math.max(n.value,Vt)}px`}));return ee(e,()=>{var s,m;n.value=(m=(s=e.value)==null?void 0:s.getBoundingClientRect().width)!=null?m:0}),{calculatorRef:e,calculatorWidth:n,inputStyle:o}}const Rt={label:"label",value:"value",disabled:"disabled",options:"options"};function Rn(e){const n=v(()=>({...Rt,...e.props}));return{aliasProps:n,getLabel:l=>z(l,n.value.label),getValue:l=>z(l,n.value.value),getDisabled:l=>z(l,n.value.disabled),getOptions:l=>z(l,n.value.options)}}const We="ElOption",kn=gt({value:{type:[String,Number,Boolean,Object],required:!0},label:{type:[String,Number]},created:Boolean,disabled:Boolean});function Dn(e,n){const o=Te(Re);o||Ql(We,"usage: <el-select><el-option /></el-select/>");const i=Te(Ct,{disabled:!1}),s=v(()=>y(Z(o.props.modelValue),e.value)),m=v(()=>{var u;if(o.props.multiple){const w=Z((u=o.props.modelValue)!=null?u:[]);return!s.value&&w.length>=o.props.multipleLimit&&o.props.multipleLimit>0}else return!1}),l=v(()=>{var u;return(u=e.label)!=null?u:j(e.value)?"":e.value}),f=v(()=>e.value||e.label||""),d=v(()=>e.disabled||n.groupDisabled||m.value),b=Ie(),y=(u=[],w)=>{if(j(e.value)){const V=o.props.valueKey;return u&&u.some(R=>Ol(z(R,V))===z(w,V))}else return u&&u.includes(w)},p=()=>{!e.disabled&&!i.disabled&&(o.states.hoveringIndex=o.optionsArray.indexOf(b.proxy))},r=u=>{const w=new RegExp(Ul(u),"i");n.visible=w.test(String(l.value))||e.created};return Q(()=>l.value,()=>{!e.created&&!o.props.remote&&o.setSelected()}),Q(()=>e.value,(u,w)=>{const{remote:V,valueKey:R}=o.props;if((V?u!==w:!ne(u,w))&&(o.onOptionDestroy(w,b.proxy),o.onOptionCreate(b.proxy)),!e.created&&!V){if(R&&j(u)&&j(w)&&u[R]===w[R])return;o.setSelected()}}),Q(()=>i.disabled,()=>{n.groupDisabled=i.disabled},{immediate:!0}),{select:o,currentLabel:l,currentValue:f,itemSelected:s,isDisabled:d,hoverItem:p,updateOption:r}}const Mn=ve({name:We,componentName:We,props:kn,setup(e){const n=fe("select"),o=wt(),i=v(()=>[n.be("dropdown","item"),n.is("disabled",Pe(f)),n.is("selected",Pe(l)),n.is("hovering",Pe(r))]),s=pe({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:m,itemSelected:l,isDisabled:f,select:d,hoverItem:b,updateOption:y}=Dn(e,s),{visible:p,hover:r}=Fe(s),u=Ie().proxy;d.onOptionCreate(u),yt(()=>{const V=u.value;Y(()=>{const{selected:R}=d.states,g=R.some(h=>h.value===u.value);d.states.cachedOptions.get(V)===u&&!g&&d.states.cachedOptions.delete(V)}),d.onOptionDestroy(V,u)});function w(){f.value||d.handleOptionSelect(u)}return{ns:n,id:o,containerKls:i,currentLabel:m,itemSelected:l,isDisabled:f,select:d,visible:p,hover:r,states:s,hoverItem:b,updateOption:y,selectOptionClick:w}}});function Ln(e,n){return ce((S(),I("li",{id:e.id,class:O(e.containerKls),role:"option","aria-disabled":e.isDisabled||void 0,"aria-selected":e.itemSelected,onMousemove:e.hoverItem,onClick:H(e.selectOptionClick,["stop"])},[P(e.$slots,"default",{},()=>[D("span",null,q(e.currentLabel),1)])],42,["id","aria-disabled","aria-selected","onMousemove","onClick"])),[[Ae,e.visible]])}var Ke=Ve(Mn,[["render",Ln],["__file","option.vue"]]);const $n=ve({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=Te(Re),n=fe("select"),o=v(()=>e.props.popperClass),i=v(()=>e.props.multiple),s=v(()=>e.props.fitInputWidth),m=k("");function l(){var f;const d=(f=e.selectRef)==null?void 0:f.offsetWidth;d?m.value=`${d-In}px`:m.value=""}return ze(()=>{l(),ee(e.selectRef,l)}),{ns:n,minWidth:m,popperClass:o,isMultiple:i,isFitInputWidth:s}}});function Pn(e,n,o,i,s,m){return S(),I("div",{class:O([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:Ee({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[e.$slots.header?(S(),I("div",{key:0,class:O(e.ns.be("dropdown","header"))},[P(e.$slots,"header")],2)):N("v-if",!0),P(e.$slots,"default"),e.$slots.footer?(S(),I("div",{key:1,class:O(e.ns.be("dropdown","footer"))},[P(e.$slots,"footer")],2)):N("v-if",!0)],6)}var Bn=Ve($n,[["render",Pn],["__file","select-dropdown.vue"]]);const Nn=(e,n)=>{const{t:o}=Cl(),i=wt(),s=fe("select"),m=fe("input"),l=pe({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),f=k(),d=k(),b=k(),y=k(),p=k(),r=k(),u=k(),w=k(),V=k(),R=k(),g=k(),h=k(!1),E=k(),{form:U,formItem:M}=Jl(),{inputId:C}=Yl(e,{formItemContext:M}),{valueOnClear:A,isEmptyValue:W}=wl(e),{isComposing:ae,handleCompositionStart:kt,handleCompositionUpdate:Dt,handleCompositionEnd:Mt}=Zl({afterComposition:t=>Ze(t)}),oe=v(()=>e.disabled||!!U?.disabled),{wrapperRef:Ue,isFocused:ke,handleBlur:Lt}=_l(p,{disabled:oe,afterFocus(){e.automaticDropdown&&!h.value&&(h.value=!0,l.menuVisibleOnFocus=!0)},beforeBlur(t){var a,c;return((a=b.value)==null?void 0:a.isFocusInsideContent(t))||((c=y.value)==null?void 0:c.isFocusInsideContent(t))},afterBlur(){var t;h.value=!1,l.menuVisibleOnFocus=!1,e.validateEvent&&((t=M?.validate)==null||t.call(M,"blur").catch(a=>dt()))}}),De=v(()=>X(e.modelValue)?e.modelValue.length>0:!W(e.modelValue)),$t=v(()=>{var t;return(t=U?.statusIcon)!=null?t:!1}),Pt=v(()=>e.clearable&&!oe.value&&De.value&&(ke.value||l.inputHovering)),Ge=v(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),Bt=v(()=>s.is("reverse",!!(Ge.value&&h.value))),Me=v(()=>M?.validateState||""),Nt=v(()=>Me.value&&xl[Me.value]),Wt=v(()=>e.remote?300:0),At=v(()=>e.remote&&!l.inputValue&&l.options.size===0),Ft=v(()=>e.loading?e.loadingText||o("el.select.loading"):e.filterable&&l.inputValue&&l.options.size>0&&se.value===0?e.noMatchText||o("el.select.noMatch"):l.options.size===0?e.noDataText||o("el.select.noData"):null),se=v(()=>L.value.filter(t=>t.visible).length),L=v(()=>{const t=Array.from(l.options.values()),a=[];return l.optionValues.forEach(c=>{const T=t.findIndex($=>$.value===c);T>-1&&a.push(t[T])}),a.length>=t.length?a:t}),zt=v(()=>Array.from(l.cachedOptions.values())),Kt=v(()=>{const t=L.value.filter(a=>!a.created).some(a=>a.currentLabel===l.inputValue);return e.filterable&&e.allowCreate&&l.inputValue!==""&&!t}),qe=()=>{e.filterable&&de(e.filterMethod)||e.filterable&&e.remote&&de(e.remoteMethod)||L.value.forEach(t=>{var a;(a=t.updateOption)==null||a.call(t,l.inputValue)})},Qe=en(),Ht=v(()=>["small"].includes(Qe.value)?"small":"default"),je=v({get(){return h.value&&(e.loading||!At.value)},set(t){h.value=t}}),Ut=v(()=>{if(e.multiple&&!Ce(e.modelValue))return Z(e.modelValue).length===0&&!l.inputValue;const t=X(e.modelValue)?e.modelValue[0]:e.modelValue;return e.filterable||Ce(t)?!l.inputValue:!0}),Gt=v(()=>{var t;const a=(t=e.placeholder)!=null?t:o("el.select.placeholder");return e.multiple||!De.value?a:l.selectedLabel}),qt=v(()=>at?null:"mouseenter");Q(()=>e.modelValue,(t,a)=>{e.multiple&&e.filterable&&!e.reserveKeyword&&(l.inputValue="",me("")),be(),!ne(t,a)&&e.validateEvent&&M?.validate("change").catch(c=>dt())},{flush:"post",deep:!0}),Q(()=>h.value,t=>{t?me(l.inputValue):(l.inputValue="",l.previousQuery=null,l.isBeforeHide=!0),n("visible-change",t)}),Q(()=>l.options.entries(),()=>{ht&&(be(),e.defaultFirstOption&&(e.filterable||e.remote)&&se.value&&Xe())},{flush:"post"}),Q([()=>l.hoveringIndex,L],([t])=>{Il(t)&&t>-1?E.value=L.value[t]||{}:E.value={},L.value.forEach(a=>{a.hover=E.value===a})}),El(()=>{l.isBeforeHide||qe()});const me=t=>{l.previousQuery===t||ae.value||(l.previousQuery=t,e.filterable&&de(e.filterMethod)?e.filterMethod(t):e.filterable&&e.remote&&de(e.remoteMethod)&&e.remoteMethod(t),e.defaultFirstOption&&(e.filterable||e.remote)&&se.value?Y(Xe):Y(Qt))},Xe=()=>{const t=L.value.filter($=>$.visible&&!$.disabled&&!$.states.groupDisabled),a=t.find($=>$.created),c=t[0],T=L.value.map($=>$.value);l.hoveringIndex=tt(T,a||c)},be=()=>{if(e.multiple)l.selectedLabel="";else{const a=X(e.modelValue)?e.modelValue[0]:e.modelValue,c=Le(a);l.selectedLabel=c.currentLabel,l.selected=[c];return}const t=[];Ce(e.modelValue)||Z(e.modelValue).forEach(a=>{t.push(Le(a))}),l.selected=t},Le=t=>{let a;const c=Tl(t);for(let te=l.cachedOptions.size-1;te>=0;te--){const G=zt.value[te];if(c?z(G.value,e.valueKey)===z(t,e.valueKey):G.value===t){a={index:L.value.filter(_=>!_.created).indexOf(G),value:t,currentLabel:G.currentLabel,get isDisabled(){return G.isDisabled}};break}}if(a)return a;const T=c?t.label:t??"";return{index:-1,value:t,currentLabel:T}},Qt=()=>{l.hoveringIndex=L.value.findIndex(t=>l.selected.some(a=>ye(a)===ye(t)))},jt=()=>{l.selectionWidth=Number.parseFloat(window.getComputedStyle(d.value).width)},Xt=()=>{l.collapseItemWidth=R.value.getBoundingClientRect().width},$e=()=>{var t,a;(a=(t=b.value)==null?void 0:t.updatePopper)==null||a.call(t)},Je=()=>{var t,a;(a=(t=y.value)==null?void 0:t.updatePopper)==null||a.call(t)},Ye=()=>{l.inputValue.length>0&&!h.value&&(h.value=!0),me(l.inputValue)},Ze=t=>{if(l.inputValue=t.target.value,e.remote)_e();else return Ye()},_e=wn(()=>{Ye()},Wt.value),ie=t=>{ne(e.modelValue,t)||n(Et,t)},Jt=t=>En(t,a=>{const c=l.cachedOptions.get(a);return c&&!c.disabled&&!c.states.groupDisabled}),Yt=t=>{const a=tn(t);if(e.multiple&&a!==ln.delete&&t.target.value.length<=0){const c=Z(e.modelValue).slice(),T=Jt(c);if(T<0)return;const $=c[T];c.splice(T,1),n(le,c),ie(c),n("remove-tag",$)}},Zt=(t,a)=>{const c=l.selected.indexOf(a);if(c>-1&&!oe.value){const T=Z(e.modelValue).slice();T.splice(c,1),n(le,T),ie(T),n("remove-tag",a.value)}t.stopPropagation(),ge()},xe=t=>{t.stopPropagation();const a=e.multiple?[]:A.value;if(e.multiple)for(const c of l.selected)c.isDisabled&&a.push(c.value);n(le,a),ie(a),l.hoveringIndex=-1,h.value=!1,n("clear"),ge()},et=t=>{var a;if(e.multiple){const c=Z((a=e.modelValue)!=null?a:[]).slice(),T=tt(c,t);T>-1?c.splice(T,1):(e.multipleLimit<=0||c.length<e.multipleLimit)&&c.push(t.value),n(le,c),ie(c),t.created&&me(""),e.filterable&&!e.reserveKeyword&&(l.inputValue="")}else!ne(e.modelValue,t.value)&&n(le,t.value),ie(t.value),h.value=!1;ge(),!h.value&&Y(()=>{he(t)})},tt=(t,a)=>Ce(a)?-1:j(a.value)?t.findIndex(c=>ne(z(c,e.valueKey),ye(a))):t.indexOf(a.value),he=t=>{var a,c,T,$,te;const G=X(t)?t[0]:t;let Oe=null;if(G?.value){const _=L.value.filter(vl=>vl.value===G.value);_.length>0&&(Oe=_[0].$el)}if(b.value&&Oe){const _=($=(T=(c=(a=b.value)==null?void 0:a.popperRef)==null?void 0:c.contentRef)==null?void 0:T.querySelector)==null?void 0:$.call(T,`.${s.be("dropdown","wrap")}`);_&&Tn(_,Oe)}(te=g.value)==null||te.handleScroll()},_t=t=>{l.options.set(t.value,t),l.cachedOptions.set(t.value,t)},xt=(t,a)=>{l.options.get(t)===a&&l.options.delete(t)},el=v(()=>{var t,a;return(a=(t=b.value)==null?void 0:t.popperRef)==null?void 0:a.contentRef}),tl=()=>{l.isBeforeHide=!1,Y(()=>{var t;(t=g.value)==null||t.update(),he(l.selected)})},ge=()=>{var t;(t=p.value)==null||t.focus()},ll=()=>{var t;if(h.value){h.value=!1,Y(()=>{var a;return(a=p.value)==null?void 0:a.blur()});return}(t=p.value)==null||t.blur()},nl=t=>{xe(t)},al=t=>{if(h.value=!1,ke.value){const a=new FocusEvent("blur",t);Y(()=>Lt(a))}},ol=()=>{l.inputValue.length>0?l.inputValue="":h.value=!1},lt=()=>{oe.value||(at&&(l.inputHovering=!0),l.menuVisibleOnFocus?l.menuVisibleOnFocus=!1:h.value=!h.value)},sl=()=>{if(!h.value)lt();else{const t=L.value[l.hoveringIndex];t&&!t.isDisabled&&et(t)}},ye=t=>j(t.value)?z(t.value,e.valueKey):t.value,il=v(()=>L.value.filter(t=>t.visible).every(t=>t.isDisabled)),rl=v(()=>e.multiple?e.collapseTags?l.selected.slice(0,e.maxCollapseTags):l.selected:[]),ul=v(()=>e.multiple?e.collapseTags?l.selected.slice(e.maxCollapseTags):[]:[]),nt=t=>{if(!h.value){h.value=!0;return}if(!(l.options.size===0||se.value===0||ae.value)&&!il.value){t==="next"?(l.hoveringIndex++,l.hoveringIndex===l.options.size&&(l.hoveringIndex=0)):t==="prev"&&(l.hoveringIndex--,l.hoveringIndex<0&&(l.hoveringIndex=l.options.size-1));const a=L.value[l.hoveringIndex];(a.isDisabled||!a.visible)&&nt(t),Y(()=>he(E.value))}},dl=()=>{if(!d.value)return 0;const t=window.getComputedStyle(d.value);return Number.parseFloat(t.gap||"6px")},cl=v(()=>{const t=dl(),a=e.filterable?t+Vt:0;return{maxWidth:`${R.value&&e.maxCollapseTags===1?l.selectionWidth-l.collapseItemWidth-t-a:l.selectionWidth-a}px`}}),fl=v(()=>({maxWidth:`${l.selectionWidth}px`})),pl=t=>{n("popup-scroll",t)};ee(d,jt),ee(Ue,$e),ee(V,Je),ee(R,Xt);let Se;return Q(()=>je.value,t=>{t?Se=ee(w,$e).stop:(Se?.(),Se=void 0)}),ze(()=>{be()}),{inputId:C,contentId:i,nsSelect:s,nsInput:m,states:l,isFocused:ke,expanded:h,optionsArray:L,hoverOption:E,selectSize:Qe,filteredOptionsCount:se,updateTooltip:$e,updateTagTooltip:Je,debouncedOnInputChange:_e,onInput:Ze,deletePrevTag:Yt,deleteTag:Zt,deleteSelected:xe,handleOptionSelect:et,scrollToOption:he,hasModelValue:De,shouldShowPlaceholder:Ut,currentPlaceholder:Gt,mouseEnterEventName:qt,needStatusIcon:$t,showClearBtn:Pt,iconComponent:Ge,iconReverse:Bt,validateState:Me,validateIcon:Nt,showNewOption:Kt,updateOptions:qe,collapseTagSize:Ht,setSelected:be,selectDisabled:oe,emptyText:Ft,handleCompositionStart:kt,handleCompositionUpdate:Dt,handleCompositionEnd:Mt,onOptionCreate:_t,onOptionDestroy:xt,handleMenuEnter:tl,focus:ge,blur:ll,handleClearClick:nl,handleClickOutside:al,handleEsc:ol,toggleMenu:lt,selectOption:sl,getValueKey:ye,navigateOptions:nt,dropdownMenuVisible:je,showTagList:rl,collapseTagList:ul,popupScroll:pl,getOption:Le,tagStyle:cl,collapseTagStyle:fl,popperRef:el,inputRef:p,tooltipRef:b,tagTooltipRef:y,prefixRef:r,suffixRef:u,selectRef:f,wrapperRef:Ue,selectionRef:d,scrollbarRef:g,menuRef:w,tagMenuRef:V,collapseItemRef:R}};var Wn=ve({name:"ElOptions",setup(e,{slots:n}){const o=Te(Re);let i=[];return()=>{var s,m;const l=(s=n.default)==null?void 0:s.call(n),f=[];function d(b){X(b)&&b.forEach(y=>{var p,r,u,w;const V=(p=y?.type||{})==null?void 0:p.name;V==="ElOptionGroup"?d(!Vl(y.children)&&!X(y.children)&&de((r=y.children)==null?void 0:r.default)?(u=y.children)==null?void 0:u.default():y.children):V==="ElOption"?f.push((w=y.props)==null?void 0:w.value):X(y.children)&&d(y.children)})}return l.length&&d((m=l[0])==null?void 0:m.children),ne(f,i)||(i=f,o&&(o.states.optionValues=f)),l}}});const An=gt({name:String,id:String,modelValue:{type:K([Array,String,Number,Boolean,Object]),default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:kl,effect:{type:K(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperStyle:{type:K([String,Object])},popperOptions:{type:K(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:{type:K(Function)},filterMethod:{type:K(Function)},multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:it.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:ct,default:an},fitInputWidth:Boolean,suffixIcon:{type:ct,default:nn},tagType:{...rt.type,default:"info"},tagEffect:{...rt.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:K(String),values:Nl,default:"bottom-start"},fallbackPlacements:{type:K(Array),default:["bottom-start","top-start","right","left"]},tabindex:{type:[String,Number],default:0},appendTo:it.appendTo,options:{type:K(Array)},props:{type:K(Object),default:()=>Rt},...Rl,...jl(["ariaLabel"])});Fl.scroll;const Fn=ve({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(e){const n=fe("select"),o=k(),i=Ie(),s=k([]);St(Ct,pe({...Fe(e)}));const m=v(()=>s.value.some(b=>b.visible===!0)),l=b=>{var y;return b.type.name==="ElOption"&&!!((y=b.component)!=null&&y.proxy)},f=b=>{const y=Z(b),p=[];return y.forEach(r=>{var u;Dl(r)&&(l(r)?p.push(r.component.proxy):X(r.children)&&r.children.length?p.push(...f(r.children)):(u=r.component)!=null&&u.subTree&&p.push(...f(r.component.subTree)))}),p},d=()=>{s.value=f(i.subTree)};return ze(()=>{d()}),Xl(o,d,{attributes:!0,subtree:!0,childList:!0}),{groupRef:o,visible:m,ns:n}}});function zn(e,n,o,i,s,m){return ce((S(),I("ul",{ref:"groupRef",class:O(e.ns.be("group","wrap"))},[D("li",{class:O(e.ns.be("group","title"))},q(e.label),3),D("li",null,[D("ul",{class:O(e.ns.b("group"))},[P(e.$slots,"default")],2)])],2)),[[Ae,e.visible]])}var He=Ve(Fn,[["render",zn],["__file","option-group.vue"]]);const ft="ElSelect",Kn=ve({name:ft,componentName:ft,components:{ElSelectMenu:Bn,ElOption:Ke,ElOptions:Wn,ElOptionGroup:He,ElTag:Kl,ElScrollbar:zl,ElTooltip:Al,ElIcon:Hl},directives:{ClickOutside:Wl},props:An,emits:[le,Et,"remove-tag","clear","visible-change","focus","blur","popup-scroll"],setup(e,{emit:n,slots:o}){const i=Ie();i.appContext.config.warnHandler=(...g)=>{!g[0]||g[0].includes('Slot "default" invoked outside of the render function')||console.warn(...g)};const s=v(()=>{const{modelValue:g,multiple:h}=e,E=h?[]:void 0;return X(g)?h?g:E:h?E:g}),m=pe({...Fe(e),modelValue:s}),l=Nn(m,n),{calculatorRef:f,inputStyle:d}=Vn(),{getLabel:b,getValue:y,getOptions:p,getDisabled:r}=Rn(e),u=g=>({label:b(g),value:y(g),disabled:r(g)}),w=g=>g.reduce((h,E)=>(h.push(E),E.children&&E.children.length>0&&h.push(...w(E.children)),h),[]),V=g=>{on(g||[]).forEach(E=>{var U;if(j(E)&&(E.type.name==="ElOption"||E.type.name==="ElTree")){const M=E.type.name;if(M==="ElTree"){const C=((U=E.props)==null?void 0:U.data)||[];w(C).forEach(W=>{W.currentLabel=W.label||(j(W.value)?"":W.value),l.onOptionCreate(W)})}else if(M==="ElOption"){const C={...E.props};C.currentLabel=C.label||(j(C.value)?"":C.value),l.onOptionCreate(C)}}})};Q(()=>{var g;return[(g=o.default)==null?void 0:g.call(o),s.value]},()=>{var g;e.persistent||V((g=o.default)==null?void 0:g.call(o))},{immediate:!0}),St(Re,pe({props:m,states:l.states,selectRef:l.selectRef,optionsArray:l.optionsArray,setSelected:l.setSelected,handleOptionSelect:l.handleOptionSelect,onOptionCreate:l.onOptionCreate,onOptionDestroy:l.onOptionDestroy}));const R=v(()=>e.multiple?l.states.selected.map(g=>g.currentLabel):l.states.selectedLabel);return yt(()=>{i.appContext.config.warnHandler=void 0}),{...l,modelValue:s,selectedLabel:R,calculatorRef:f,inputStyle:d,getLabel:b,getValue:y,getOptions:p,getDisabled:r,getOptionProps:u}}});function Hn(e,n){const o=J("el-tag"),i=J("el-tooltip"),s=J("el-icon"),m=J("el-option"),l=J("el-option-group"),f=J("el-options"),d=J("el-scrollbar"),b=J("el-select-menu"),y=Ml("click-outside");return ce((S(),I("div",{ref:"selectRef",class:O([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),[Pl(e.mouseEnterEventName)]:p=>e.states.inputHovering=!0,onMouseleave:p=>e.states.inputHovering=!1},[x(i,{ref:"tooltipRef",visible:e.dropdownMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-style":e.popperStyle,"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:p=>e.states.isBeforeHide=!1},{default:B(()=>{var p;return[D("div",{ref:"wrapperRef",class:O([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:H(e.toggleMenu,["prevent"])},[e.$slots.prefix?(S(),I("div",{key:0,ref:"prefixRef",class:O(e.nsSelect.e("prefix"))},[P(e.$slots,"prefix")],2)):N("v-if",!0),D("div",{ref:"selectionRef",class:O([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.states.selected.length)])},[e.multiple?P(e.$slots,"tag",{key:0,data:e.states.selected,deleteTag:e.deleteTag,selectDisabled:e.selectDisabled},()=>[(S(!0),I(re,null,we(e.showTagList,r=>(S(),I("div",{key:e.getValueKey(r),class:O(e.nsSelect.e("selected-item"))},[x(o,{closable:!e.selectDisabled&&!r.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:Ee(e.tagStyle),onClose:u=>e.deleteTag(u,r)},{default:B(()=>[D("span",{class:O(e.nsSelect.e("tags-text"))},[P(e.$slots,"label",{index:r.index,label:r.currentLabel,value:r.value},()=>[st(q(r.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.states.selected.length>e.maxCollapseTags?(S(),F(i,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom","popper-class":e.popperClass,"popper-style":e.popperStyle,teleported:e.teleported},{default:B(()=>[D("div",{ref:"collapseItemRef",class:O(e.nsSelect.e("selected-item"))},[x(o,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:Ee(e.collapseTagStyle)},{default:B(()=>[D("span",{class:O(e.nsSelect.e("tags-text"))}," + "+q(e.states.selected.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:B(()=>[D("div",{ref:"tagMenuRef",class:O(e.nsSelect.e("selection"))},[(S(!0),I(re,null,we(e.collapseTagList,r=>(S(),I("div",{key:e.getValueKey(r),class:O(e.nsSelect.e("selected-item"))},[x(o,{class:"in-tooltip",closable:!e.selectDisabled&&!r.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:u=>e.deleteTag(u,r)},{default:B(()=>[D("span",{class:O(e.nsSelect.e("tags-text"))},[P(e.$slots,"label",{index:r.index,label:r.currentLabel,value:r.value},()=>[st(q(r.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","popper-class","popper-style","teleported"])):N("v-if",!0)]):N("v-if",!0),D("div",{class:O([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable)])},[ce(D("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":r=>e.states.inputValue=r,type:"text",name:e.name,class:O([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:Ee(e.inputStyle),tabindex:e.tabindex,role:"combobox",readonly:!e.filterable,spellcheck:"false","aria-activedescendant":((p=e.hoverOption)==null?void 0:p.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropdownMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:[ue(H(r=>e.navigateOptions("next"),["stop","prevent"]),["down"]),ue(H(r=>e.navigateOptions("prev"),["stop","prevent"]),["up"]),ue(H(e.handleEsc,["stop","prevent"]),["esc"]),ue(H(e.selectOption,["stop","prevent"]),["enter"]),ue(H(e.deletePrevTag,["stop"]),["delete"])],onCompositionstart:e.handleCompositionStart,onCompositionupdate:e.handleCompositionUpdate,onCompositionend:e.handleCompositionEnd,onInput:e.onInput,onClick:H(e.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[$l,e.states.inputValue]]),e.filterable?(S(),I("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:O(e.nsSelect.e("input-calculator")),textContent:q(e.states.inputValue)},null,10,["textContent"])):N("v-if",!0)],2),e.shouldShowPlaceholder?(S(),I("div",{key:1,class:O([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?P(e.$slots,"label",{key:0,index:e.getOption(e.modelValue).index,label:e.currentPlaceholder,value:e.modelValue},()=>[D("span",null,q(e.currentPlaceholder),1)]):(S(),I("span",{key:1},q(e.currentPlaceholder),1))],2)):N("v-if",!0)],2),D("div",{ref:"suffixRef",class:O(e.nsSelect.e("suffix"))},[e.iconComponent&&!e.showClearBtn?(S(),F(s,{key:0,class:O([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:B(()=>[(S(),F(Be(e.iconComponent)))]),_:1},8,["class"])):N("v-if",!0),e.showClearBtn&&e.clearIcon?(S(),F(s,{key:1,class:O([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.nsSelect.e("clear")]),onClick:e.handleClearClick},{default:B(()=>[(S(),F(Be(e.clearIcon)))]),_:1},8,["class","onClick"])):N("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(S(),F(s,{key:2,class:O([e.nsInput.e("icon"),e.nsInput.e("validateIcon"),e.nsInput.is("loading",e.validateState==="validating")])},{default:B(()=>[(S(),F(Be(e.validateIcon)))]),_:1},8,["class"])):N("v-if",!0)],2)],10,["onClick"])]}),content:B(()=>[x(b,{ref:"menuRef"},{default:B(()=>[e.$slots.header?(S(),I("div",{key:0,class:O(e.nsSelect.be("dropdown","header")),onClick:H(()=>{},["stop"])},[P(e.$slots,"header")],10,["onClick"])):N("v-if",!0),ce(x(d,{id:e.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:O([e.nsSelect.is("empty",e.filteredOptionsCount===0)]),role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical",onScroll:e.popupScroll},{default:B(()=>[e.showNewOption?(S(),F(m,{key:0,value:e.states.inputValue,created:!0},null,8,["value"])):N("v-if",!0),x(f,null,{default:B(()=>[P(e.$slots,"default",{},()=>[(S(!0),I(re,null,we(e.options,(p,r)=>{var u;return S(),I(re,{key:r},[(u=e.getOptions(p))!=null&&u.length?(S(),F(l,{key:0,label:e.getLabel(p),disabled:e.getDisabled(p)},{default:B(()=>[(S(!0),I(re,null,we(e.getOptions(p),w=>(S(),F(m,ot({key:e.getValue(w)},e.getOptionProps(w)),null,16))),128))]),_:2},1032,["label","disabled"])):(S(),F(m,Ll(ot({key:1},e.getOptionProps(p))),null,16))],64)}),128))])]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label","onScroll"]),[[Ae,e.states.options.size>0&&!e.loading]]),e.$slots.loading&&e.loading?(S(),I("div",{key:1,class:O(e.nsSelect.be("dropdown","loading"))},[P(e.$slots,"loading")],2)):e.loading||e.filteredOptionsCount===0?(S(),I("div",{key:2,class:O(e.nsSelect.be("dropdown","empty"))},[P(e.$slots,"empty",{},()=>[D("span",null,q(e.emptyText),1)])],2)):N("v-if",!0),e.$slots.footer?(S(),I("div",{key:3,class:O(e.nsSelect.be("dropdown","footer")),onClick:H(()=>{},["stop"])},[P(e.$slots,"footer")],10,["onClick"])):N("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-style","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],16,["onMouseleave"])),[[y,e.handleClickOutside,e.popperRef]])}var Un=Ve(Kn,[["render",Hn],["__file","select.vue"]]);const sa=Bl(Un,{Option:Ke,OptionGroup:He}),ia=Ot(Ke);Ot(He);export{sa as E,ia as a,yn as b,wn as d};
